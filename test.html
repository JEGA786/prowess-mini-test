<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Infinite Slider</title>
    <style>
        /* General Styling */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .upcoming-events {
            text-align: center;
        }

        /* Slider container */
        .slider-container {
            width: 90%; /* Responsive width */
            max-width: 750px; /* Limit maximum width */
            height: 280px;
            overflow: hidden;
            position: relative;
            margin: 20px auto;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        /* Slider */
        .slider {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }

        /* Individual slide */
        .slide {
            flex: 0 0 100%; /* Responsive width */
            height: 280px;
            position: relative;
        }

        /* Slide images */
        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Learn More Button Styling */
        .learn-more-btn {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px 20px;
            background-color: #67823b;
            color: #fff;
            font-size: 14px;
            font-weight: bold;
            text-decoration: none;
            border-radius: 5px;
            transition: background-color 0.3s ease, transform 0.3s ease;
            cursor: pointer;
        }

        /* Pagination */
        .pagination {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 10;
        }

        .pagination-dot {
            width: 8px;
            height: 8px;
            background-color: #706e6e;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .pagination-dot.active {
            background-color: #7ca23f;
        }

        /* Media Queries for smaller screens */
        @media (max-width: 768px) {
            .slider-container {
                height: 200px;
            }

            .slide {
                height: 200px;
            }

            .learn-more-btn {
                font-size: 12px;
                padding: 8px 16px;
            }
        }

        @media (max-width: 480px) {
            .slider-container {
                height: 150px;
            }

            .slide {
                height: 150px;
            }

            .learn-more-btn {
                font-size: 10px;
                padding: 6px 12px;
            }

            .pagination-dot {
                width: 6px;
                height: 6px;
            }
        }
    </style>
</head>
<body>
    <section class="upcoming-events">
        <h6 class="text-center">Upcoming Events</h6>
        <div class="slider-container" id="slider-container">
            <div class="slider" id="slider">
                <!-- Original Slides -->
                <div class="slide">
                    <img src="/images/street-market-sunset.jpg" alt="Event 1">
                    <div class="learn-more-btn">Learn More</div>
                </div>
                <div class="slide">
                    <img src="/images/street-market-sunset.jpg" alt="Event 2">
                    <div class="learn-more-btn">Learn More</div>
                </div>
                <div class="slide">
                    <img src="/images/street-market-sunset.jpg" alt="Event 3">
                    <div class="learn-more-btn">Learn More</div>
                </div>
                <!-- <div class="slide">
                    <img src="/images/street-market-sunset.jpg" alt="Event 4">
                    <div class="learn-more-btn">Learn More</div>
                </div> -->
            </div>
            <!-- Pagination -->
            <div class="pagination" id="pagination"></div>
        </div>
    </section>
    <script>
        const slider = document.getElementById("slider");
        const slides = Array.from(slider.children);
        const pagination = document.getElementById("pagination");
        const sliderContainer = document.getElementById("slider-container");
        let currentIndex = 0;

        // Clone first and last slides for infinite loop
        const firstSlide = slides[0].cloneNode(true);
        const lastSlide = slides[slides.length - 1].cloneNode(true);
        slider.appendChild(firstSlide);
        slider.insertBefore(lastSlide, slides[0]);

        // Update slides after cloning
        const allSlides = Array.from(slider.children);

        // Set initial slider position to the first slide
        let slideWidth = sliderContainer.offsetWidth;
        slider.style.transform = `translateX(-${slideWidth}px)`;

        // Create pagination dots
        slides.forEach((_, index) => {
            const dot = document.createElement("div");
            dot.classList.add("pagination-dot");
            if (index === 0) dot.classList.add("active");
            dot.dataset.index = index;
            dot.addEventListener("click", () => goToSlide(index));
            pagination.appendChild(dot);
        });

        // Start auto-slide
        let autoSlide = setInterval(() => moveToNextSlide(), 1000);

        // Pause slider on hover
        sliderContainer.addEventListener("mouseenter", () => clearInterval(autoSlide));
        sliderContainer.addEventListener("mouseleave", () => {
            autoSlide = setInterval(() => moveToNextSlide(), 1000);
        });

        // Move to the next slide
        function moveToNextSlide() {
            currentIndex++;
            slider.style.transition = "transform 0.5s ease-in-out";
            slider.style.transform = `translateX(-${(currentIndex + 1) * slideWidth}px)`;

            if (currentIndex >= slides.length) {
                setTimeout(() => {
                    slider.style.transition = "none";
                    currentIndex = 0;
                    slider.style.transform = `translateX(-${slideWidth}px)`;
                }, 500); // Match transition duration
            }
            updatePagination();
        }

        // Move to a specific slide
        function goToSlide(index) {
            currentIndex = index;
            slider.style.transition = "transform 0.5s ease-in-out";
            slider.style.transform = `translateX(-${(currentIndex + 1) * slideWidth}px)`;
            updatePagination();
        }

        // Update pagination dots
        function updatePagination() {
            const dots = document.querySelectorAll(".pagination-dot");
            dots.forEach((dot, index) => {
                dot.classList.toggle("active", index === currentIndex);
            });
        }

        // Adjust slider on window resize
        window.addEventListener("resize", () => {
            slideWidth = sliderContainer.offsetWidth;
            slider.style.transition = "none";
            slider.style.transform = `translateX(-${(currentIndex + 1) * slideWidth}px)`;
        });
    </script>
</body>
</html>
